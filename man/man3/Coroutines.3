.\" --------------------------------------
.\" Oberon System Documentation   AFB 8/90
.\" (c) University of Ulm, SAI, D-7900 Ulm
.\" --------------------------------------
.de Pg
.nf
.ie t \{\
.	sp 0.3v
.	ps 9
.	ft CW
.\}
.el .sp 1v
..
.de Pe
.ie t \{\
.	ps
.	ft P
.	sp 0.3v
.\}
.el .sp 1v
.fi
..
.de Tb
.br
.nr Tw \w'\\$1MMM'
.in +\\n(Twu
..
.de Te
.in -\\n(Twu
..
.de Tp
.br
.ne 2v
.in -\\n(Twu
\fI\\$1\fP
.br
.in +\\n(Twu
.sp -1
..
.TH Coroutines 3 "Oberon System"
.SH NAME
Coroutines \- interface to coroutine primitives
.SH SYNOPSIS
.Pg
TYPE Coroutine = SYSTEM.COROUTINE;
.sp 0.3
TYPE CoroutineTag = POINTER TO CoroutineTagRec;
TYPE CoroutineTagRec = RECORD END;
.sp 0.7
VAR defaultsize: LONGINT;
VAR tag: CoroutineTag;
VAR main: Coroutine;
VAR source: Coroutine;
VAR current: Coroutine;
.Pe
.SH DESCRIPTION
.I Coroutines
exports some variables which are used and set by the runtime system.
All variables with the exception of \fIdefaultsize\fP are read-only.
.PP
.I defaultsize
defines the default stack size of a coroutine.
The size of the activation record of the procedure calling
.B SYSTEM.CRSPAWN
is added to \fIdefaultsize\fP.
The default is taken if the second parameter of \fBSYSTEM.CRSPAWN\fP
is omitted.
.PP
.I main
is allocated during module initialization and points to the
main coroutine.
.PP
The
.B SYSTEM.CRSWITCH
operation sets
.I source
to the calling coroutine.
.PP
.I current
points to the coroutine currently active.
.PP
The pointer \fItag\fP points to a tag record which is used
by all coroutines. This allows coroutines to be identified
by the garbage collector.
.\" ---------------------------------------------------------------------------
.\" $Id: Coroutines.3,v 1.2 1993/01/29 11:22:23 borchert Exp $
.\" ---------------------------------------------------------------------------
.\" $Log: Coroutines.3,v $
.\" Revision 1.2  1993/01/29  11:22:23  borchert
.\" CoroutineTag added
.\"
.\" Revision 1.1  1990/08/31  17:02:12  borchert
.\" Initial revision
.\"
.\" ---------------------------------------------------------------------------
