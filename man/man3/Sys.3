.\" ---------------------------------------------------------------------------
.\" Ulm's Oberon System Documentation
.\" Copyright (C) 1989-2000 by University of Ulm, SAI, D-89069 Ulm, Germany
.\" ---------------------------------------------------------------------------
.\"    Permission is granted to make and distribute verbatim copies of this
.\" manual provided the copyright notice and this permission notice are
.\" preserved on all copies.
.\" 
.\"    Permission is granted to copy and distribute modified versions of
.\" this manual under the conditions for verbatim copying, provided also
.\" that the sections entitled "GNU General Public License" and "Protect
.\" Your Freedom--Fight `Look And Feel'" are included exactly as in the
.\" original, and provided that the entire resulting derived work is
.\" distributed under the terms of a permission notice identical to this
.\" one.
.\" 
.\"    Permission is granted to copy and distribute translations of this
.\" manual into another language, under the above conditions for modified
.\" versions, except that the sections entitled "GNU General Public
.\" License" and "Protect Your Freedom--Fight `Look And Feel'", and this
.\" permission notice, may be included in translations approved by the Free
.\" Software Foundation instead of in the original English.
.\" ---------------------------------------------------------------------------
.de Pg
.nf
.ie t \{\
.	sp 0.3v
.	ps 9
.	ft CW
.\}
.el .sp 1v
..
.de Pe
.ie t \{\
.	ps
.	ft P
.	sp 0.3v
.\}
.el .sp 1v
.fi
..
'\"----------------------------------------------------------------------------
.de Tb
.br
.nr Tw \w'\\$1MMM'
.in +\\n(Twu
..
.de Te
.in -\\n(Twu
..
.de Tp
.br
.ne 2v
.in -\\n(Twu
\fI\\$1\fP
.br
.in +\\n(Twu
.sp -1
..
'\"----------------------------------------------------------------------------
'\" Is [prefix]
'\" Ic capability
'\" If procname params [rtype]
'\" Ef
'\"----------------------------------------------------------------------------
.de Is
.br
.ie \\n(.$=1 .ds iS \\$1
.el .ds iS "
.nr I1 5
.nr I2 5
.in +\\n(I1
..
.de Ic
.sp .3
.in -\\n(I1
.nr I1 5
.nr I2 2
.in +\\n(I1
.ti -\\n(I1
If
\.I \\$1
\.B IN
\.IR caps :
.br
..
.de If
.ne 3v
.sp 0.3
.ti -\\n(I2
.ie \\n(.$=3 \fI\\$1\fP: \fBPROCEDURE\fP(\\*(iS\\$2) : \\$3;
.el \fI\\$1\fP: \fBPROCEDURE\fP(\\*(iS\\$2);
.br
..
.de Ef
.in -\\n(I1
.sp 0.3
..
'\"----------------------------------------------------------------------------
'\"	Strings - made in Ulm (tm 8/87)
'\"
'\"				troff or new nroff
'ds A \(:A
'ds O \(:O
'ds U \(:U
'ds a \(:a
'ds o \(:o
'ds u \(:u
'ds s \(ss
'\"
'\"     international character support
.ds ' \h'\w'e'u*4/10'\z\(aa\h'-\w'e'u*4/10'
.ds ` \h'\w'e'u*4/10'\z\(ga\h'-\w'e'u*4/10'
.ds : \v'-0.6m'\h'(1u-(\\n(.fu%2u))*0.13m+0.06m'\z.\h'0.2m'\z.\h'-((1u-(\\n(.fu%2u))*0.13m+0.26m)'\v'0.6m'
.ds ^ \\k:\h'-\\n(.fu+1u/2u*2u+\\n(.fu-1u*0.13m+0.06m'\z^\h'|\\n:u'
.ds ~ \\k:\h'-\\n(.fu+1u/2u*2u+\\n(.fu-1u*0.13m+0.06m'\z~\h'|\\n:u'
.ds C \\k:\\h'+\\w'e'u/4u'\\v'-0.6m'\\s6v\\s0\\v'0.6m'\\h'|\\n:u'
.ds v \\k:\(ah\\h'|\\n:u'
.ds , \\k:\\h'\\w'c'u*0.4u'\\z,\\h'|\\n:u'
'\"----------------------------------------------------------------------------
.ie t .ds St "\v'.3m'\s+2*\s-2\v'-.3m'
.el .ds St *
.de cC
.IP "\fB\\$1\fP"
..
'\"----------------------------------------------------------------------------
.de Op
.TP
.SM
.ie \\n(.$=2 .BI (+|\-)\\$1 " \\$2"
.el .B (+|\-)\\$1
..
.de Mo
.TP
.SM
.BI \\$1 " \\$2"
..
'\"----------------------------------------------------------------------------
.TH Sys 3 "Last change: 16 November 2000" "Release 0.5" "Ulm's Oberon System"
.SH NAME
Sys \- UNIX system calls
.SH SYNOPSIS
.Pg
CONST
   syscall           =   0;   setrlimit         = 128;
   exit              =   1;   getrlimit         = 129;
   fork              =   2;   lchown            = 130;
   read              =   3;   memcntl           = 131;
   write             =   4;   getpmsg           = 132;
   open              =   5;   putpmsg           = 133;
   close             =   6;   rename            = 134;
   wait              =   7;   uname             = 135;
   creat             =   8;   setegid           = 136;
   link              =   9;   sysconfig         = 137;
   unlink            =  10;   adjtime           = 138;
   exec              =  11;   systeminfo        = 139;
   chdir             =  12;   seteuid           = 141;
   time              =  13;   vtrace            = 142;
   mknod             =  14;   fork1             = 143;
   chmod             =  15;   sigtimedwait      = 144;
   chown             =  16;   lwpInfo           = 145;
   brk               =  17;   yield             = 146;
   stat              =  18;   lwpSemaWait       = 147;
   lseek             =  19;   lwpSemaPost       = 148;
   getpid            =  20;   lwpSemaTrywait    = 149;
   mount             =  21;   corectl           = 151;
   umount            =  22;   modctl            = 152;
   setuid            =  23;   fchroot           = 153;
   getuid            =  24;   utimes            = 154;
   stime             =  25;   vhangup           = 155;
   pcsample          =  26;   gettimeofday      = 156;
   alarm             =  27;   getitimer         = 157;
   fstat             =  28;   setitimer         = 158;
   pause             =  29;   lwpCreate         = 159;
   utime             =  30;   lwpExit           = 160;
   stty              =  31;   lwpSuspend        = 161;
   gtty              =  32;   lwpContinue       = 162;
   access            =  33;   lwpKill           = 163;
   nice              =  34;   lwpSelf           = 164;
   statfs            =  35;   lwpSetprivate     = 165;
   sync              =  36;   lwpGetprivate     = 166;
   kill              =  37;   lwpWait           = 167;
   fstatfs           =  38;   lwpMutexWakeup    = 168;
   pgrpsys           =  39;   lwpMutexLock      = 169;
   xenix             =  40;   lwpCondWait       = 170;
   dup               =  41;   lwpCondSignal     = 171;
   pipe              =  42;   lwpCondBroadcast  = 172;
   times             =  43;   pread             = 173;
   profil            =  44;   pwrite            = 174;
   plock             =  45;   llseek            = 175;
   setgid            =  46;   instSync          = 176;
   getgid            =  47;   srmlimitsys       = 177;
   signal            =  48;   kaio              = 178;
   msgsys            =  49;   cpc               = 179;
   sysi86            =  50;   tsolsys           = 184;
   syssun            =  50;   acl               = 185;
   acct              =  51;   auditsys          = 186;
   shmsys            =  52;   processorBind     = 187;
   semsys            =  53;   processorInfo     = 188;
   ioctl             =  54;   pOnline           = 189;
   uadmin            =  55;   sigqueue          = 190;
   utssys            =  57;   clockGettime      = 191;
   fdsync            =  58;   clockSettime      = 192;
   execve            =  59;   clockGetres       = 193;
   umask             =  60;   timerCreate       = 194;
   chroot            =  61;   timerDelete       = 195;
   fcntl             =  62;   timerSettime      = 196;
   ulimit            =  63;   timerGettime      = 197;
   tasksys           =  70;   timerGetoverrun   = 198;
   acctctl           =  71;   nanosleep         = 199;
   exacctsys         =  72;   facl              = 200;
   reserved73        =  73;   door              = 201;
   reserved74        =  74;   setreuid          = 202;
   reserved75        =  75;   setregid          = 203;
   reserved76        =  76;   installUtrap      = 204;
   reserved77        =  77;   signotify         = 205;
   reserved78        =  78;   schedctl          = 206;
   rmdir             =  79;   pset              = 207;
   mkdir             =  80;   sparcUtrapInstall = 208;
   getdents          =  81;   resolvepath       = 209;
   sysfs             =  84;   signotifywait     = 210;
   getmsg            =  85;   lwpSigredirect    = 211;
   putmsg            =  86;   lwpAlarm          = 212;
   poll              =  87;   getdents64        = 213;
   lstat             =  88;   mmap64            = 214;
   symlink           =  89;   stat64            = 215;
   readlink          =  90;   lstat64           = 216;
   setgroups         =  91;   fstat64           = 217;
   getgroups         =  92;   statvfs64         = 218;
   fchmod            =  93;   fstatvfs64        = 219;
   fchown            =  94;   setrlimit64       = 220;
   sigprocmask       =  95;   getrlimit64       = 221;
   sigsuspend        =  96;   pread64           = 222;
   sigaltstack       =  97;   pwrite64          = 223;
   sigaction         =  98;   creat64           = 224;
   sigpending        =  99;   open64            = 225;
   context           = 100;   rpcsys            = 226;
   evsys             = 101;   soSocket          = 230;
   evtrapret         = 102;   soSocketpair      = 231;
   statvfs           = 103;   bind              = 232;
   fstatvfs          = 104;   listen            = 233;
   getloadavg        = 105;   accept            = 234;
   nfssys            = 106;   connect           = 235;
   waitsys           = 107;   shutdown          = 236;
   sigsendsys        = 108;   recv              = 237;
   hrtsys            = 109;   recvfrom          = 238;
   acancel           = 110;   recvmsg           = 239;
   async             = 111;   send              = 240;
   priocntlsys       = 112;   sendmsg           = 241;
   pathconf          = 113;   sendto            = 242;
   mincore           = 114;   getpeername       = 243;
   mmap              = 115;   getsockname       = 244;
   mprotect          = 116;   getsockopt        = 245;
   munmap            = 117;   setsockopt        = 246;
   fpathconf         = 118;   sockconfig        = 247;
   vfork             = 119;   ntpGettime        = 248;
   fchdir            = 120;   ntpAdjtime        = 249;
   readv             = 121;   lwpMutexUnlock    = 250;
   writev            = 122;   lwpMutexTrylock   = 251;
   xstat             = 123;   lwpMutexInit      = 252;
   lxstat            = 124;   cladm             = 253;
   fxstat            = 125;   lwpSigtimedwait   = 254;
   xmknod            = 126;   umount2           = 255;
   clocal            = 127;
.sp 0.7
CONST ncalls = 256;
CONST namelen = 18;
.sp 0.7
TYPE Name = ARRAY namelen OF CHAR;
.sp 0.7
VAR name: ARRAY ncalls OF Name;
.Pe
.SH DESCRIPTION
.I Sys
exports the UNIX system call numbers.
The system call numbers are extracted from \fI/usr/include/sys/syscall.h\fP.
System call numbers are given as first argument to
\fBSYSTEM.UNIXCALL\fP.
The array
.I name
contains the names of the system calls,
e.g. \fIname\fP[4] = "write".
.SH EXAMPLE
Implementation of the \fIwrite(2)\fP system call:
.Pg
PROCEDURE Write(fd: SysTypes.File;
                buf: SysTypes.Address;
                cnt: SysTypes.Count) : SysTypes.Count;
   (* return value of    -1: I/O error
                        >=0: number of bytes written
   *)
   VAR
      d0, d1: INTEGER;
BEGIN
   IF SYSTEM.UNIXCALL(Sys.write, d0, d1, fd, buf, cnt) THEN
      RETURN d0
   ELSE
      SysErrors.Raise(d0, Sys.write, "");
      RETURN -1
   END;
END Write;
.Pe
.SH "SEE ALSO"
.Tb SysErrors(3)
.Tp SysErrors(3)
standardized event handling for system call failures
.Tp SysTypes(3)
definition of some types needed for system calls
.Te
.SH FILES
.Tb /usr/include/sys/syscall.h
.Tp /usr/include/sys/syscall.h
system call numbers
.Te
.SH BUGS
Not every system call described in chapter 2 of the UNIX manual is
a unique system call,
e.g. \fIsemsys\fP realizes all semaphore operations.
.LP
Some of these system calls are not available on releases before
Solaris 8.
.\" ---------------------------------------------------------------------------
.\" $Id: Sys.3,v 1.3.2.3 2000/11/16 23:43:50 borchert Exp $
.\" ---------------------------------------------------------------------------
.\" $Log: Sys.3,v $
.\" Revision 1.3.2.3  2000/11/16  23:43:50  borchert
.\" adapted to Solaris 8
.\"
.\" Revision 1.3.2.2  1991/01/04  11:50:11  borchert
.\" header changed
.\"
.\" Revision 1.3.2.1  91/01/04  09:53:21  borchert
.\" new branch for Sun3 version
.\" 
.\" Revision 1.3  91/01/03  22:39:29  borchert
.\" Sys depends now on /usr/include/sys.s
.\" 
.\" Revision 1.2  90/09/25  15:26:45  oberon
.\" adaptation to System V Rel. 3
.\" 
.\" Revision 1.1  90/08/31  17:02:21  borchert
.\" Initial revision
.\" 
.\" ---------------------------------------------------------------------------
