.\" ---------------------------------------------------------------------------
.\" Ulm's Oberon System Documentation
.\" Copyright (C) 1989-2004 by University of Ulm, SAI, D-89069 Ulm, Germany
.\" ---------------------------------------------------------------------------
.\"    Permission is granted to make and distribute verbatim copies of this
.\" manual provided the copyright notice and this permission notice are
.\" preserved on all copies.
.\" 
.\"    Permission is granted to copy and distribute modified versions of
.\" this manual under the conditions for verbatim copying, provided also
.\" that the sections entitled "GNU General Public License" and "Protect
.\" Your Freedom--Fight `Look And Feel'" are included exactly as in the
.\" original, and provided that the entire resulting derived work is
.\" distributed under the terms of a permission notice identical to this
.\" one.
.\" 
.\"    Permission is granted to copy and distribute translations of this
.\" manual into another language, under the above conditions for modified
.\" versions, except that the sections entitled "GNU General Public
.\" License" and "Protect Your Freedom--Fight `Look And Feel'", and this
.\" permission notice, may be included in translations approved by the Free
.\" Software Foundation instead of in the original English.
.\" ---------------------------------------------------------------------------
.de Pg
.nf
.ie t \{\
.	sp 0.3v
.	ps 9
.	ft CW
.\}
.el .sp 1v
..
.de Pe
.ie t \{\
.	ps
.	ft P
.	sp 0.3v
.\}
.el .sp 1v
.fi
..
'\"----------------------------------------------------------------------------
.de Tb
.br
.nr Tw \w'\\$1MMM'
.in +\\n(Twu
..
.de Te
.in -\\n(Twu
..
.de Tp
.br
.ne 2v
.in -\\n(Twu
\fI\\$1\fP
.br
.in +\\n(Twu
.sp -1
..
'\"----------------------------------------------------------------------------
'\" Is [prefix]
'\" Ic capability
'\" If procname params [rtype]
'\" Ef
'\"----------------------------------------------------------------------------
.de Is
.br
.ie \\n(.$=1 .ds iS \\$1
.el .ds iS "
.nr I1 5
.nr I2 5
.in +\\n(I1
..
.de Ic
.sp .3
.in -\\n(I1
.nr I1 5
.nr I2 2
.in +\\n(I1
.ti -\\n(I1
If
\.I \\$1
\.B IN
\.IR caps :
.br
..
.de If
.ne 3v
.sp 0.3
.ti -\\n(I2
.ie \\n(.$=3 \fI\\$1\fP: \fBPROCEDURE\fP(\\*(iS\\$2) : \\$3;
.el \fI\\$1\fP: \fBPROCEDURE\fP(\\*(iS\\$2);
.br
..
.de Ef
.in -\\n(I1
.sp 0.3
..
'\"----------------------------------------------------------------------------
'\"	Strings - made in Ulm (tm 8/87)
'\"
'\"				troff or new nroff
'ds A \(:A
'ds O \(:O
'ds U \(:U
'ds a \(:a
'ds o \(:o
'ds u \(:u
'ds s \(ss
'\"
'\"     international character support
.ds ' \h'\w'e'u*4/10'\z\(aa\h'-\w'e'u*4/10'
.ds ` \h'\w'e'u*4/10'\z\(ga\h'-\w'e'u*4/10'
.ds : \v'-0.6m'\h'(1u-(\\n(.fu%2u))*0.13m+0.06m'\z.\h'0.2m'\z.\h'-((1u-(\\n(.fu%2u))*0.13m+0.26m)'\v'0.6m'
.ds ^ \\k:\h'-\\n(.fu+1u/2u*2u+\\n(.fu-1u*0.13m+0.06m'\z^\h'|\\n:u'
.ds ~ \\k:\h'-\\n(.fu+1u/2u*2u+\\n(.fu-1u*0.13m+0.06m'\z~\h'|\\n:u'
.ds C \\k:\\h'+\\w'e'u/4u'\\v'-0.6m'\\s6v\\s0\\v'0.6m'\\h'|\\n:u'
.ds v \\k:\(ah\\h'|\\n:u'
.ds , \\k:\\h'\\w'c'u*0.4u'\\z,\\h'|\\n:u'
'\"----------------------------------------------------------------------------
.ie t .ds St "\v'.3m'\s+2*\s-2\v'-.3m'
.el .ds St *
.de cC
.IP "\fB\\$1\fP"
..
'\"----------------------------------------------------------------------------
.de Op
.TP
.SM
.ie \\n(.$=2 .BI (+|\-)\\$1 " \\$2"
.el .B (+|\-)\\$1
..
.de Mo
.TP
.SM
.BI \\$1 " \\$2"
..
'\"----------------------------------------------------------------------------
.TH pons 1 "Last change: 20 September 2004" "Release 0.5" "Ulm's Oberon System"
.SH NAME
pons \- Persistent Oberon Name Service
.SH SYNOPSIS
.B pons
.RB { \-b
.I bind-address
.IR port }
.RB [ \-p
.IR pot-file ]
.I dbfile
.SH DESCRIPTION
\fIpons(1)\fP provides a persistent hierarchical structure of directories
which can be temporarily used to insert objects and other hierarchies
to allow remote objects to be found by paths in a shared name system
(see \fINames(3)\fP).
Please note the distinction: directories created within the hierarchy
of \fIpons(1)\fP remain persistent, connections to inserted nodes
from other processes do not survive a restart of \fIpons(1)\fP.
.PP
Persistent directories may be created from the command line using
\fIonsmkdir(1)\fP, interactively through \fInsh(1)\fP or from within
Oberon by using \fINames.MakeSubnode\fP.
.PP
The persistent directory structure is stored using a container (see
\fIContainers(3)\fP and \fIStandardContainers(3)\fP) that is based
upon a safe storage using \fITransStreams(3)\fP on a regular file named
\fIdbfile\fP.  The database file \fIdbfile\fP will be created if it does
not exist yet.
.LP
Note that database files basing on \fIStandardContainers(3)\fP and
\fITransStreams(3)\fP contain holes causing the size returned by
\fIstat(2)\fP to be much larger than the actual disk usage.
These files must be copied with care (either compress them first,
or use options like \fB-sparse\fP of \fIstar(1)\fP). It is not
safe, however, to copy a database file while \fIpons\fP is running.
.LP
Following options are supported:
.TP 8
.SM
.BI \-b " bind-address port"
make the \fIRemoteObjects(3)\fP address of the exported root available
at the given address (a hostname or a dotted-decimal IPv4 address)
at the given port number according to \fINamesBootService(3)\fP
and \fIIPv4NameSystems(3)\fP. Note that any number of addresses may
be given. Usually, ``127.0.0.1 9880'' is given.
.TP 8
.SM
.BI \-p " pot-file"
By default, anyone is permitted to change the directory structure
including creating new directories, renaming them, deleting them, and
inserting nodes. If a \fIpot-file\fP is given, it is taken as a file
containing a persistent object of type \fIShards.Pot\fP.  An authorization
is then required for each operation that modifies the structure (either
permanently or temporarily). Note that currently read access is always
free to anybody.
.LP
\fIpons(1)\fP may be terminated by sending \fBSIGTERM\fP or
invoking \fIonsshut(1)\fP for the control object named ``pons''
within the exported root.
.SH "SEE ALSO"
.Tb PersistentNodes(3)
.Tp PersistentNodes(3)
the implementation of \fIpons(1)\fP is based on this kind
of persistent nodes
.Tp Names(3)
general abstraction for name hierarchies
.Te
.\" ---------------------------------------------------------------------------
.\" $Id: pons.1,v 1.1 2004/09/20 10:39:00 borchert Exp $
.\" ---------------------------------------------------------------------------
.\" $Log: pons.1,v $
.\" Revision 1.1  2004/09/20 10:39:00  borchert
.\" Initial revision
.\"
.\" ---------------------------------------------------------------------------
