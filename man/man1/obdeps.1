.\" ---------------------------------------------------------------------------
.\" Ulm's Oberon System Documentation
.\" Copyright (C) 1989-2005 by University of Ulm, SAI, D-89069 Ulm, Germany
.\" ---------------------------------------------------------------------------
.\"    Permission is granted to make and distribute verbatim copies of this
.\" manual provided the copyright notice and this permission notice are
.\" preserved on all copies.
.\" 
.\"    Permission is granted to copy and distribute modified versions of
.\" this manual under the conditions for verbatim copying, provided also
.\" that the sections entitled "GNU General Public License" and "Protect
.\" Your Freedom--Fight `Look And Feel'" are included exactly as in the
.\" original, and provided that the entire resulting derived work is
.\" distributed under the terms of a permission notice identical to this
.\" one.
.\" 
.\"    Permission is granted to copy and distribute translations of this
.\" manual into another language, under the above conditions for modified
.\" versions, except that the sections entitled "GNU General Public
.\" License" and "Protect Your Freedom--Fight `Look And Feel'", and this
.\" permission notice, may be included in translations approved by the Free
.\" Software Foundation instead of in the original English.
.\" ---------------------------------------------------------------------------
.de Pg
.nf
.ie t \{\
.	sp 0.3v
.	ps 9
.	ft CW
.\}
.el .sp 1v
..
.de Pe
.ie t \{\
.	ps
.	ft P
.	sp 0.3v
.\}
.el .sp 1v
.fi
..
'\"----------------------------------------------------------------------------
.de Tb
.br
.nr Tw \w'\\$1MMM'
.in +\\n(Twu
..
.de Te
.in -\\n(Twu
..
.de Tp
.br
.ne 2v
.in -\\n(Twu
\fI\\$1\fP
.br
.in +\\n(Twu
.sp -1
..
'\"----------------------------------------------------------------------------
'\" Is [prefix]
'\" Ic capability
'\" If procname params [rtype]
'\" Ef
'\"----------------------------------------------------------------------------
.de Is
.br
.ie \\n(.$=1 .ds iS \\$1
.el .ds iS "
.nr I1 5
.nr I2 5
.in +\\n(I1
..
.de Ic
.sp .3
.in -\\n(I1
.nr I1 5
.nr I2 2
.in +\\n(I1
.ti -\\n(I1
If
\.I \\$1
\.B IN
\.IR caps :
.br
..
.de If
.ne 3v
.sp 0.3
.ti -\\n(I2
.ie \\n(.$=3 \fI\\$1\fP: \fBPROCEDURE\fP(\\*(iS\\$2) : \\$3;
.el \fI\\$1\fP: \fBPROCEDURE\fP(\\*(iS\\$2);
.br
..
.de Ef
.in -\\n(I1
.sp 0.3
..
'\"----------------------------------------------------------------------------
'\"	Strings - made in Ulm (tm 8/87)
'\"
'\"				troff or new nroff
'ds A \(:A
'ds O \(:O
'ds U \(:U
'ds a \(:a
'ds o \(:o
'ds u \(:u
'ds s \(ss
'\"
'\"     international character support
.ds ' \h'\w'e'u*4/10'\z\(aa\h'-\w'e'u*4/10'
.ds ` \h'\w'e'u*4/10'\z\(ga\h'-\w'e'u*4/10'
.ds : \v'-0.6m'\h'(1u-(\\n(.fu%2u))*0.13m+0.06m'\z.\h'0.2m'\z.\h'-((1u-(\\n(.fu%2u))*0.13m+0.26m)'\v'0.6m'
.ds ^ \\k:\h'-\\n(.fu+1u/2u*2u+\\n(.fu-1u*0.13m+0.06m'\z^\h'|\\n:u'
.ds ~ \\k:\h'-\\n(.fu+1u/2u*2u+\\n(.fu-1u*0.13m+0.06m'\z~\h'|\\n:u'
.ds C \\k:\\h'+\\w'e'u/4u'\\v'-0.6m'\\s6v\\s0\\v'0.6m'\\h'|\\n:u'
.ds v \\k:\(ah\\h'|\\n:u'
.ds , \\k:\\h'\\w'c'u*0.4u'\\z,\\h'|\\n:u'
'\"----------------------------------------------------------------------------
.ie t .ds St "\v'.3m'\s+2*\s-2\v'-.3m'
.el .ds St *
.de cC
.IP "\fB\\$1\fP"
..
'\"----------------------------------------------------------------------------
.de Op
.TP
.SM
.ie \\n(.$=2 .BI (+|\-)\\$1 " \\$2"
.el .B (+|\-)\\$1
..
.de Mo
.TP
.SM
.BI \\$1 " \\$2"
..
'\"----------------------------------------------------------------------------
.TH obdeps 1 "Last change: 5 February 2005" "Release 0.5" "Ulm's Oberon System"
.SH NAME
obdeps \- list dependencies of an object in CDB
.SH SYNOPSIS
.B obdeps
.RB [ \-a
.IR authfile ]
.RB [ \-A
.IR arch ]
.RB [ \-b
.IR basedir ]
.RB [ \-D | \-M ]
.I modname
.SH DESCRIPTION
.I obdeps
lists the dependencies of the most recent object of \fImodname\fP.
This works for objects only that are already present in CDB,
\fIobload(1)\fP may be used to generate them first.
.LP
Following options are supported:
.TP 8
.SM
.BI \-a " authfile"
specifies a file containing a persistent object of type
\fIShards.Lid\fP that is to be used for authorization.
Note that by default (see \fIcdbd(1)\fP) an authorization
is not needed because \fIobdeps\fP does not need write
access to CDB.
.TP 8
.SM
.BI \-A " arch"
list the dependencies of the architecture-dependent object
(or machine code) of \fImodname\fP. Architectures must be
specified as defined by \fIArchitectures(3)\fP.
.TP 8
.SM
.BI \-b " basedir"
defines the base path of the compiler data base (CDB). Default is
.IR /pub/cdb/oberon .
.TP 8
.SM
.BI \-D
list the dependencies of the abstract syntax tree generated
from the definition (\fBdefault\fP).
.TP 8
.SM
.BI \-M
list the dependencies of the abstract syntax tree or
machine code generated from the module.
.SH EXAMPLES
List the architecture-independent dependencies of \fIStreams\fP:
.Pg
oberon$ obdeps Streams
module name = Streams
src id = 3A2204FF75E3DB51D44997838EF181FD
key = 
   Streams:
      defsrcid: 3A2204FF75E3DB51D44997838EF181FD
      genkey: 2000-03-28,17:04:30:961,0699145982,1401399159
dependencies
   Objects:
      defsrcid: 5056B991EB4E6C2BA3EBCE2A507017CE
      genkey: 2000-03-28,07:27:24:364,-1735991486,-1440161190
   Types:
      defsrcid: 85028800D67F2D025A225EE8E02926EE
      genkey: 2000-03-28,07:50:38:942,1244705731,1390900087
   Services:
      defsrcid: 2B9644822777DEF73B256892634E0769
      genkey: 2000-03-28,07:27:24:881,-1809950972,-1282668628
   Disciplines:
      defsrcid: F49AC38B0384DAA79F4F66194F160DC4
      genkey: 2000-03-28,07:27:25:123,0426955118,1796457599
   Events:
      defsrcid: CAB0A5DE6BEF753A5CFF9B63E70FD5A5
      genkey: 2000-03-28,07:27:23:631,-1710438980,-220728061
.Pe
.LP
List architecture-dependent dependencies:
.Pg
oberon$ obdeps -A SPARC Streams
module name = Streams
src id = 3A2204FF75E3DB51D44997838EF181FD
key = 
   Streams:
      defsrcid: 3A2204FF75E3DB51D44997838EF181FD
      genkey: 2000-03-28,17:04:30:961,0699145982,1401399159
      arch: SPARC:v8;32
      archkey: 2000-03-28,17:07:00:685,0816251258,-139536571
dependencies
   Objects:
      defsrcid: 5056B991EB4E6C2BA3EBCE2A507017CE
      genkey: 2000-03-28,07:27:24:364,-1735991486,-1440161190
      arch: SPARC:v8;32
      archkey: 2000-03-28,17:07:02:182,0983769558,-555229837
   Types:
      defsrcid: 85028800D67F2D025A225EE8E02926EE
      genkey: 2000-03-28,07:50:38:942,1244705731,1390900087
      arch: SPARC:v8;32
      archkey: 2000-03-28,17:07:03:562,0603586654,-1066464001
   Services:
      defsrcid: 2B9644822777DEF73B256892634E0769
      genkey: 2000-03-28,07:27:24:881,-1809950972,-1282668628
      arch: SPARC:v8;32
      archkey: 2000-03-28,17:07:05:689,-2067983480,-281698861
   Disciplines:
      defsrcid: F49AC38B0384DAA79F4F66194F160DC4
      genkey: 2000-03-28,07:27:25:123,0426955118,1796457599
      arch: SPARC:v8;32
      archkey: 2000-03-28,17:07:07:249,0348746428,-454434981
   Events:
      defsrcid: CAB0A5DE6BEF753A5CFF9B63E70FD5A5
      genkey: 2000-03-28,07:27:23:631,-1710438980,-220728061
      arch: SPARC:v8;32
      archkey: 2000-03-28,17:07:10:021,0218940962,0522941892
.Pe
.SH DIAGNOSTICS
.I obdeps
reports ``no such module in CDB'' if \fImodname\fP is completely
unknown to CDB and ``requested object not yet in CDB'' if the
object is missing. In the latter case, \fIobload(1)\fP may be
helpful.
If CDB is not found in the Oberon name space,
.I obdeps
exits telling ``unable to access CDB root''.
.SH ENVIRONMENT
Following environment parameters allow to override the builtin
defaults:
.Tb CDB_BASEDIR
.Tp CDB_AUTH
default path of the authorization file.
.Tp CDB_BASEDIR
default path of CDB within the Oberon name space.
.Te
.SH "SEE ALSO"
.Tb obload(1)
.Tp cdbd(1)
daemon running CDB.
.Tp obload(1)
compiles (if necessary) and loads modules.
.Tp obci(1)
check in Oberon sources into CDB.
.Tp pons(1)
daemon defining the shared root of the Oberon name space.
.Te
.\" ---------------------------------------------------------------------------
.\" $Id: obdeps.1,v 1.3 2005/02/05 18:56:06 borchert Exp $
.\" ---------------------------------------------------------------------------
.\" $Log: obdeps.1,v $
.\" Revision 1.3  2005/02/05 18:56:06  borchert
.\" environment parameters added
.\"
.\" Revision 1.2  2001/12/06 15:21:18  borchert
.\" typo fixed
.\"
.\" Revision 1.1  2000/03/29 20:18:36  borchert
.\" Initial revision
.\"
.\" ---------------------------------------------------------------------------
